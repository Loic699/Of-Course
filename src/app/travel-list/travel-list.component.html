<form (ngSubmit)="onSubmit()" [formGroup]="filtersForm">

    <h3>Travel</h3>

    <!-- DESTINATIONS INPUTS -->
    <div class="input-group w-50">
        <span class="input-group-text">Go from ... to ...</span>
        <input type="text" class="form-control" placeholder="From..." formControlName="fromLoc" >
        <input type="text" class="form-control" placeholder="To..." formControlName="toLoc" [matAutocomplete]="cityAuto">
        
        <mat-autocomplete #cityAuto="matAutocomplete">
            <span *ngIf="filtersForm.controls.toLoc.dirty">
                <mat-option *ngFor="let option of filterSingleAutoCompleteResult(cityOptions, filtersForm.get('toLoc').value)" [value]="option">
                    {{option}}
                </mat-option>
            </span>
        </mat-autocomplete>
    </div>

    <!-- STATE INPUT -->
    <div class="input-group w-50">
        <span class="input-group-text">Choose a state</span>
        <input type="text" class="form-control" placeholder="State.." formControlName="state" [matAutocomplete]="stateAuto">
        <mat-autocomplete #stateAuto="matAutocomplete">
            <span *ngIf="filtersForm.controls.state.dirty">
                <mat-option *ngFor="let option of filterSingleAutoCompleteResult(stateOptions, filtersForm.get('state').value)" [value]="option">
                    {{option}}
                </mat-option>
            </span>
        </mat-autocomplete>
    </div>

    <!-- CONTINENT INPUT -->
    <div class="input-group w-50">
        <span class="input-group-text">Choose a continent</span>
        <input type="text" class="form-control" placeholder="continent.." formControlName="continent" [matAutocomplete]="continentAuto">
        <mat-autocomplete #continentAuto="matAutocomplete">
            <span *ngIf="filtersForm.controls.continent.dirty">
                <mat-option *ngFor="let option of filterSingleAutoCompleteResult(contOptions, filtersForm.get('continent').value)" [value]="option">
                    {{option}}
                </mat-option>
            </span>
        </mat-autocomplete>
    </div>

    <div class="input-group w-50">
        <span class="input-group-text">Travel Dates</span>
        <mat-date-range-input class="form-control" [rangePicker]="travelDates" formGroupName="travelDates">
            <input matStartDate placeholder="Start date" formControlName="start" >
            <input matEndDate placeholder="End date" formControlName="end">
        </mat-date-range-input>
        <mat-datepicker-toggle [for]="travelDates" matSuffix ></mat-datepicker-toggle>
        <mat-date-range-picker #travelDates></mat-date-range-picker>
    </div>

    <button type="submit" class="btn btn-primary w-50">
        Search
    </button>

</form>

<div class="centerList">
    <div class="d-inline-flex justify-content-center " *ngFor="let voyage of voyages">
        <app-card-travel class="m-4 shadow" [voyage]="voyage" ></app-card-travel>
    </div>
</div>